# vi: ft=zsh

alias cd-d='cd ~/.dotfiles'

# ls alias for color-mode
alias lh='ls -lhaG'

# Prompt me if deleting more than three files or doing it recursively
alias rm='rm -I'

# simple ip
# TODO: Right now this fails, saying "cut: bad delimiter"
# alias ip='ifconfig | grep "inet " | grep -v 127.0.0.1 | cut -d\ -f2'

# more details
# TODO: This works, but not sure what it means...
# alias ip1="ifconfig -a | perl -nle'/(\d+\.\d+\.\d+\.\d+)/ && print $1'"

# external ip
# TODO: Fix this, getting external IP would be awesome. Right now it just hangs
# alias ip2="curl -s http://www.showmyip.com/simple/ | awk '{print $1}'"

# See hidden files with ls
alias ls="ls -a --color=always"

# Hidden files for the_silver_searcher
alias ag="ag --hidden"

# grep with color
# for whatever reason this doesn't work with my grep on windows
#alias grep='grep --color=auto'

# refresh shell
alias reload='exec zsh -l'

# -- Postgres Aliases --

alias pg-start='pg_ctl -l $PGDATA/server.log start'
alias pg-stop='pg_ctl stop -m fast'
alias pg-status='pg_ctl status'
alias pg-restart='pg_ctl reload'

# Run psql for my local instance
alias pg-local='psql postgres://trunkclub:trunkclub@192.168.23.2/postgres'

# -- Git Aliases --

# Standard!
alias g='git'

# status!
alias gs='git status'

alias ga='git add'

alias gb='git branch'

alias gbd='git branch -d'

alias gbd-m='git_delete_merged'

# "Git add patched"
alias gap='git add -p'

# "Git add all"
alias gaa='git add .'

# "Git commit"
alias gc='git commit'

# Trying to use `git commit` without the command line flag, disabling this will help
# alias gcm='git commit -m'

# --amend changes the latest commit, and --no-edit tells it we don't want to change the messge
alias gca='git commit --amend --no-edit'

alias gd='git diff --color-words'

alias gds='git diff --staged --color-words'

alias gr='git rebase'

alias grc='git rebase --continue'

alias gp='git pull'

alias gpu='git push'

alias gco='git checkout'

alias gcom='git checkout master'

# Follow it up with a hyphen delimited branch name like: 'gcob my-branch-name'
alias gcob='git checkout -b'

alias glg='git_pretty_log'

alias grom='git rebase origin/master'

alias griom='git rebase -i origin/master'

# Temporarily ignore changes but leave them in the filesystem
#   'git ignore add', follow up with a <file>
alias gi-a='git update-index --assume-unchanged'

# Stop ignoring a file
#   'git ignore remove'
alias gi-r='git update-index --no-assume-unchanged'

# List all ignored files
#   'git ignore list'
alias gi-l="git ls-files -v | grep '^[[:lower:]]' | cut -f2 -d' '"

# -- Ruby Aliases --
# Run Rubocop gem
alias rbc='rubocop'

# Run Rubocop gem and autocorrect detected violations when available
alias rbca='rubocop --auto-correct'

# Bundle exec
alias be='bundle exec'

# Bundle exec rake shortcut
alias ber='bundle exec rake'

# Bundle exec rspec
alias be-rspec='bundle exec rspec'

# Runs rubocop with all of the changed files
alias rbc-m="git_show_exclude_ruby_files | xargs rubocop"

# Runs rubocop with autocorrect, (-n1) once for each file,
#   and (-p) while asking permission.
alias rbca-m="git_show_exclude_ruby_files | xargs -n1 -p rubocop --auto-correct"

# Run migrations
alias db-migrate="bundle exec rake db:migrate && RACK_ENV=test bundle exec rake db:migrate"


# -- Other Aliases
alias ..='cd ..'         # Go up one directory
alias ...='cd ../..'     # Go up two directories
alias ....='cd ../../..' # Go up three directories
alias -- -='cd -'        # Go back
